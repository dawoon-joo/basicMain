<!DOCTYPE html>
<html lang="en">

  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="/common/css/font/font.css">
    <link rel="stylesheet" href="/common/css/swiper-bundle.min.css">
    <link rel="stylesheet" href="/common/css/jquery.fullpage.min.css">
    <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">
    <link rel="stylesheet" href="/common/css/base.css">
    <link rel="stylesheet" href="/common/css/sub.css">
    <link rel="stylesheet" href="/common/css/main.css">
    <link rel="stylesheet" href="/common/css/common.css">
    <script src="/common/js/gsap.min.js"></script>
    <script src="/common/js/ScrollTrigger.min.js"></script>
    <script src="/common/js/ScrollToPlugin.min.js"></script>
    <script src="/common/js/ScrollMagic.min.js"></script>
    <script src="/common/js/scrollreveal.min.js"></script>
    <script src="/common/js/lenis.min.js"></script>
    <script src="/common/js/swiper-bundle.min.js"></script>
    <script src="/common/js/jquery-3.7.1.min.js"></script>
    <script src="https://unpkg.com/swiper/swiper-bundle.min.js"></script>
    <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
    <script src="/common/js/main.js"></script>
    <script src="/common/js/sub.js"></script>
    <script src="/common/js/device.js"></script>
    <script src="/common/js/header.js"></script>
    <script src="/common/js/common.js"></script>
  </head>

  <body>
    <header id="header" class="header" data-header-type="white">
      <h1>
        <a href="/" class="logo">
          <span class="blind">Test Logo</span>
        </a>
      </h1>
      <div class="gnb">
        <nav class="nav">
          <ul class="depth1" data-lenis-prevent>
            <li>
              <a href="#">Menu 1</a>
              <ul class="depth2">
                <li><a href="#">Sub Menu 1-1</a></li>
                <li><a href="#">Sub Menu 1-2</a></li>
                <li><a href="#">Sub Menu 1-3</a></li>
                <li><a href="#">Sub Menu 1-4</a></li>
                <li><a href="#">Sub Menu 1-5</a></li>
                <li><a href="#">Sub Menu 1-6</a></li>
              </ul>
            </li>
            <li>
              <a href="#">Menu 2</a>
              <ul class="depth2">
                <li><a href="#">Sub Menu 2-1</a></li>
                <li><a href="#">Sub Menu 2-2</a></li>
                <li><a href="#">Sub Menu 2-3</a></li>
                <li><a href="#">Sub Menu 2-4</a></li>
                <li><a href="#">Sub Menu 2-5</a></li>
              </ul>
            </li>
            <li>
              <a href="#">Menu 3</a>
              <ul class="depth2">
                <li><a href="#">Sub Menu 3-1</a></li>
                <li><a href="#">Sub Menu 3-2</a></li>
              </ul>
            </li>
            <li>
              <a href="#">Menu 4</a>
              <ul class="depth2">
                <li><a href="#">Sub Menu 4-1</a></li>
                <li><a href="#">Sub Menu 4-2</a></li>
              </ul>
            </li>
            <li>
              <a href="#">Menu 5</a>
            </li>
          </ul>
        </nav>
        <div class="close">
          <a href="javascript:">
            <span class="circle"></span>
            <span class="blind">Close Menu</span>
          </a>
        </div>
      </div>
      <div class="header-right">
        <div class="header-language">
          <button class="current" aria-pressed="false"><span class="text">KR</span></button>
          <ul>
            <li><a href="javascript:lang_chg('ko')">KR</a></li>
            <li><a href="javascript:lang_chg('en')">EN</a></li>
            <li><a href="javascript:lang_chg('cn')">CN</a></li>
          </ul>
        </div>
        <div class="hamburger">
          <a href="javascript:">
            <span class="bar"></span>
            <span class="bar"></span>
            <span class="bar"></span>
            <span class="blind">Open Menu</span>
          </a>
        </div>
      </div>
    </header>
    <section class="main-visual">
      <div class="intro">
        <div class="text text1">
          <p><span>Smart logistics,</span></p>
          <p><span>Sustainable Trade</span></p>
          <p><span>Shinhung Global</span></p>
        </div>
        <div class="text text2">
          <p><span>Smart logistics,</span></p>
          <p><span>Sustainable Trade</span></p>
          <p><span>Shinhung Global</span></p>
        </div>
      </div>
      <div class="swiper-container">
        <div class="swiper">
          <div class="swiper-wrapper">
            <div class="swiper-slide">
              <div class="bg">
                <div class="pc"><img src="/images/main/main-visual.jpg" alt=""></div>
                <div class="mo"><img src="/images/main/main-visual.jpg" alt=""></div>
              </div>
              <div class="visual-text">
                <h1 class="heading">Smart logistics, Sustainable Trade</h1>
                <p class="desc">스마트 물류, 지속가능한 무역 신흥글로벌 </p>
                <a href="javascript:" class="read-more">Read More</a>
              </div>
            </div>
            <div class="swiper-slide">
              <div class="bg">
                <div class="pc"><img src="/images/main/main-visual.jpg" alt=""></div>
                <div class="mo"><img src="/images/main/main-visual.jpg" alt=""></div>
              </div>
              <div class="visual-text">
                <h1 class="heading">Smart logistics, Sustainable Trade2</h1>
                <p class="desc">스마트 물류, 지속가능한 무역 신흥글로벌 </p>
                <a href="javascript:" class="read-more">Read More</a>
              </div>
            </div>
          </div>
          <div class="swiper-pagination"></div>
        </div>
        
      </div>
    </section>
    <script>
      document.addEventListener('DOMContentLoaded', ()=> {
        gsapMotion();
      })
      const visualMotion = (triggerClass, isMobile,) => {
        const section = document.querySelector(triggerClass);
        const intro = section.querySelector('.intro');
        const text1 = section.querySelector('.text1');
        const text2 = section.querySelector('.text2');
        const visualText = section.querySelector('.visual-text');
        const tl = gsap.timeline();
        
        gsap.set(text1.querySelectorAll('span'), { autoAlpha: 0, y: 100})
        gsap.set(visualText, { autoAlpha: 0, y: 30})
        gsap.set(text2, { autoAlpha: 0})
        
        tl.to(text1.querySelectorAll('span'), { autoAlpha: 1, y: 0, duration: 1, stagger: 0.1})
          .to(text2, { autoAlpha: 1, duration: 0})
          .to(text1, { autoAlpha: 0, duration: 0.5})
          .call(() => { animateScale(text2);})
          .to({}, { duration: 2}) // (animateScale 시간과 동일)
          .to(intro, { autoAlpha: 0, duration: 0})
          .to(visualText, { autoAlpha: 1, y: 0, duration: 1, onComplete: () => {
            videoAutoplaySwiper();
          }})

        const videoAutoplaySwiper = () => {
          const delay = 5;
          const speed = 1;
          let swiper
      
          const initSwiper = () => {
            swiper = new Swiper('.main-visual .swiper', {
              loop: true,
              speed: speed * 1000,
              effect: 'fade',
              fadeEffect: {
                crossFade: true
              },
              autoplay: {
                delay: delay * 1000,
                disableOnInteraction: false
              },
              pagination: {
                el: '.main-visual .swiper-pagination',
                clickable: true,
              },
              // parallax: true,
              on: {
                init: (swiper) => {
                  console.log('Swiper initialized');
                  setTimeout(() => animate(swiper), 100);
                },
                slideChangeTransitionStart: (swiper) => {
                  console.log('Slide change started');
                  animate(swiper);
                  let currentSlide = swiper.slides[swiper.activeIndex];
                  let video = currentSlide.querySelector('video');
                  if (video) {
                    video.currentTime = 0;
                    video.play();
                  }
                }
              }
            });
          };
      
          const animate = (swiper) => {
            const slide = swiper.el.querySelector('.swiper-slide-active');
            let index = swiper.realIndex;
            console.log('Animating slide', index);
            
            // pagination 퍼센테이지 같은 추가적인 기능들 추가
          };
      
          initSwiper();
        };
        function animateScale(element) {
          let start = null;
          const duration = 2000;
          const startScale = 1;
          const endScale = 180;
          const startX = 0;
          const endX = 1420;
          
          function animate(timestamp) {
            if (!start) start = timestamp;
            const progress = Math.min((timestamp - start) / duration, 1);
            const easeProgress = easeInOutCubic(progress);
            
            const currentScale = startScale + (endScale - startScale) * easeProgress;
            const currentX = startX + (endX - startX) * easeProgress;
            
            element.style.transform = `translateX(${currentX}px) scale(${currentScale})`;
            
            if (progress < 1) {
              requestAnimationFrame(animate);
            }
          }
          
          requestAnimationFrame(animate);
        }
        function easeInOutCubic(t) {
          return t < 0.5 ? 4 * t * t * t : (t - 1) * (2 * t - 2) * (2 * t - 2) + 1;
        }
      }
      
      
      const gsapMotion= () => {
        let mm = gsap.matchMedia();
      
        mm.add({
          isMobile: "(max-width: 767px)",
          isDesktop: "(min-width: 768px)"
        }, (context) => {
          let { isMobile, isDesktop } = context.conditions;
      
          visualMotion('.main-visual', isMobile);
        });
      }
    </script>
    <footer id="footer" class="footer">
      <div class="inner">
        <div class="content-top">
          <div class="sitemap">
            <article>
              <dl>
                <dt><a href="javascript:">Menu 1</a></dt>
                <dd><a href="#">Sub Menu 1-1</a></dd>
                <dd><a href="#">Sub Menu 1-2</a></dd>
                <dd><a href="#">Sub Menu 1-3</a></dd>
                <dd><a href="#">Sub Menu 1-4</a></dd>
                <dd class="w-100"><a href="#">Sub Menu 1-5</a></dd>
                <dd class="w-100"><a href="#">Sub Menu 1-6</a></dd>
              </dl>
            </article>
            <article>
              <dl>
                <dt><a href="javascript:">Menu 2</a></dt>
                <dd><a href="#">Sub Menu 2-1</a></dd>
                <dd><a href="#">Sub Menu 2-2</a></dd>
                <dd><a href="#">Sub Menu 2-3</a></dd>
                <dd><a href="#">Sub Menu 2-4</a></dd>
                <dd><a href="#">Sub Menu 2-5</a></dd>
                <dd><a href="#">Sub Menu 2-6</a></dd>
                <dd><a href="#">Sub Menu 2-7</a></dd>
                <dd><a href="#">Sub Menu 2-8</a></dd>
              </dl>
            </article>
            <article>
              <dl>
                <dt><a href="javascript:">Menu 3</a></dt>
                <dd class="w-100"><a href="#">Sub Menu 3-1</a></dd>
                <dd class="w-100"><a href="#">Sub Menu 3-2</a></dd>
              </dl>
            </article>
            <article>
              <dl>
                <dt><a href="javascript:">Menu 4</a></dt>
                <dd class="w-100"><a href="#">Sub Menu 4-1</a></dd>
                <dd class="w-100"><a href="#">Sub Menu 4-2</a></dd>
              </dl>
            </article>
            <article>
              <dl>
                <dt><a href="javascript:">Menu 5</a></dt>
                <dd class="w-100"><a href="#">Sub Menu 5-1</a></dd>
                <dd class="w-100"><a href="#">Sub Menu 5-2</a></dd>
                <dd class="w-100"><a href="#">Sub Menu 5-3</a></dd>
                <dd class="w-100"><a href="#">Sub Menu 5-4</a></dd>
              </dl>
            </article>
          </div>
          <div class="con-right">
            <div class="phone"><a href="tel:0000000000">000-0000-0000</a></div>
            <ul class="footer-link">
              <li><a href="#">Link 1</a></li>
              <li><a href="#">Link 2</a></li>
              <li class="active"><a href="#">Link 3</a></li>
            </ul>
            <ul class="footer-sns">
              <li><a href="javascript:" title="새창으로 열림" target="_blank"><i class="icon icon-youtube"></i></a></li>
              <li><a href="javascript:" title="새창으로 열림" target="_blank"><i class="icon icon-kakao"></i></a></li>
              <li><a href="javascript:" title="새창으로 열림" target="_blank"><i class="icon icon-instagram"></i></a></li>
              <li><a href="javascript:" title="새창으로 열림" target="_blank"><i class="icon icon-facebook"></i></a></li>
              <li><a href="javascript:" title="새창으로 열림" target="_blank"><i class="icon icon-linkedin"></i></a></li>
            </ul>
          </div>
        </div>
        <div class="content-bottom">
          <div class="logo-box">
            <img src="/common/images/logo.png" alt="Test Logo">
          </div>
          <p class="copyright">©<span id="copyYear">2024</span> Test Company.</p>
          <div class="site-wrap">
            <button type="button" class="btn-site">Family Sites</button>
            <div class="ico ico-arrow-drop"><span class="hide">Arrow</span></div>
            <ul class="familyLink">
              <li><a href="#" target="_blank" title="새창으로 열림">Family Site 1</a></li>
              <li><a href="#" target="_blank" title="새창으로 열림">Family Site 2</a></li>
            </ul>
          </div>
        </div>
      </div>
    </footer>
  </body>

</html>